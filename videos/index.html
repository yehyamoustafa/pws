<!DOCTYPE html>
<html lang="en" class="is-animating">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <!-- bootstrap grid css -->
  <link rel="stylesheet" href="css/plugins/bootstrap-grid.css" />
  <!-- font awesome css -->
  <link rel="stylesheet" href="css/plugins/font-awesome.min.css" />
  <!-- swiper css -->
  <link rel="stylesheet" href="css/plugins/swiper.min.css" />
  <!-- your theme -->
  <link rel="stylesheet" href="css/dark-mode.css" />

  <link rel="icon" type="image/png" href="img/icons/y2.png" />
  <title>Videos | Yehya Moustafa</title>

  <style>
    /* Keep your existing "no right banner" behavior */
    body.mil-fw-page .mil-right-banner{
      transform: translateX(110%) !important;
      opacity: 0 !important;
      pointer-events: none !important;
      visibility: hidden !important;
    }

    /* ==========================================================
       Videos Grid (Montra-like: posters + play, SQUARE 1:1)
       ========================================================== */

    .ymv-wrap{
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 18px;
    }

    .ymv-section{
      padding: 10px 0 70px;
    }

    .ymv-heading{
      max-width: 900px;
      margin: 0 auto 40px;
    }
    .ymv-heading h2{
      margin: 0;
      font-size: 28px;
      color: rgba(255,255,255,0.92);
    }
    /* FIX #2: description should be soft, not white */
    .ymv-heading p{
      margin: 10px 0 0;
      color: rgba(255,255,255,0.62);
      line-height: 1.65;
    }

    .ymv-grid{
      display: grid;
      grid-template-columns: 1fr;
      gap: 26px;
      align-items: start;
    }
    @media (min-width: 768px){
      .ymv-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (min-width: 1200px){
      .ymv-grid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    .ymv-card{
      width: 100%;
      border-radius: 28px;
      overflow: hidden;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: 0 18px 50px rgba(0,0,0,0.10);
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }

    @media (hover:hover) and (pointer:fine){
      .ymv-card:hover{
        transform: translateY(-4px);
        border-color: rgba(255,255,255,0.18);
        box-shadow: 0 26px 70px rgba(0,0,0,0.18);
      }
      .ymv-card:hover .ymv-poster{
        transform: scale(1.05);
        filter: saturate(1.08) contrast(1.08);
      }
      .ymv-card:hover .ymv-play{
        transform: translate(-50%, -50%) scale(1.06);
        background: rgba(0,0,0,0.55);
        border-color: rgba(255,255,255,0.34);
      }
    }

    /* Media container — ALWAYS SQUARE */
    .ymv-media{
      position: relative;
      width: 100%;
      padding-top: 100%; /* 1:1 */
      background: rgba(255,255,255,0.04);
      isolation: isolate;
    }

    .ymv-poster{
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      filter: saturate(1.05) contrast(1.06);
      transform: scale(1.02);
      transition: transform .35s ease, filter .35s ease, opacity .25s ease;
      opacity: 1;
    }

    .ymv-overlay{
      position: absolute;
      inset: 0;
      background:
        radial-gradient(1200px 500px at 30% 10%, rgba(255,255,255,0.10), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,0.00) 0%, rgba(0,0,0,0.25) 70%, rgba(0,0,0,0.45) 100%);
      pointer-events: none;
      z-index: 1;
    }

    .ymv-badge{
      position: absolute;
      top: 14px;
      left: 14px;
      z-index: 2;
      font-size: 12px;
      padding: 7px 10px;
      border-radius: 999px;
      color: rgba(255,255,255,0.9);
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.18);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .ymv-play{
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 74px;
      height: 74px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.26);
      background: rgba(0,0,0,0.46);
      color: #fff;
      cursor: pointer;
      z-index: 2;
      display: grid;
      place-items: center;
      transition: transform .2s ease, background .2s ease, border-color .2s ease, opacity .2s ease;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .ymv-play i{
      font-size: 18px;
      margin-left: 3px;
    }

    .ymv-embed{
      position: absolute;
      inset: 0;
      z-index: 3;
      opacity: 0;
      transition: opacity .2s ease;
    }
    .ymv-embed iframe{
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
      background: #000;
    }

    .ymv-card.is-playing .ymv-poster{ opacity: 0; }
    .ymv-card.is-playing .ymv-embed{ opacity: 1; }
    .ymv-card.is-playing .ymv-play{ opacity: 0; pointer-events: none; }
    .ymv-card.is-playing .ymv-badge{ opacity: 0; }

    .ymv-meta{
      padding: 16px 18px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .ymv-title{
      margin: 0;
      font-size: 16px;
      font-weight: 650;
      line-height: 1.25;
      color: rgba(255,255,255,0.92);
    }

    /* FIX #2: force softer description color */
    .ymv-cat{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: rgba(255,255,255,0.62) !important;
      white-space: nowrap;
    }

    .ymv-dot{
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: rgba(255,255,255,0.65);
      box-shadow: 0 0 0 3px rgba(255,255,255,0.10);
    }

    @media (max-width: 767px){
      .ymv-grid{ justify-items: center; }
      .ymv-card{ max-width: 520px; }
    }

    /* Optional: make the whole card feel clickable (like template) */
    .ymv-card .ymv-media{ cursor: pointer; }
  </style>
</head>

<body class="mil-fw-page">

  <div class="mil-wrapper" id="top">

    <!-- preloader -->
    <div class="mil-preloader-frame">
      <div class="mil-preloader-content" style="transform: scale(.6) translateY(200px); opacity: 0;">
        <div class="mil-preloader">
          <div class="mil-circ-1"></div>
          <div class="mil-circ-2"></div>
          <div class="mil-circ-3"></div>
          <div class="mil-circ-4"></div>
        </div>
        <div class="mil-upper">Loading creativity…</div>
      </div>
    </div>
    <!-- preloader end -->

    <div class="mil-frame">

      <!-- top bar -->
      <div class="mil-top-panel">
        <a href="/" class="mil-logo">
          <img src="img/logos/logomain.png" alt="Yehya Moustafa Logo" />
        </a>

        <div class="mil-navigation">
          <nav id="swupMenu" class="mil-menu-transition">
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="/portfolio">Projects</a></li>
              <li class="mil-active"><a href="/videos">Videos</a></li>
              <li><a href="/resume">Resume</a></li>
              <li><a href="/contact">Contact</a></li>
            </ul>
          </nav>
        </div>

        <div class="mil-top-panel-btns">
          <a href="/contact" class="mil-contact-btn" aria-label="Contact">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-mail">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </a>

          <div class="mil-menu-btn" aria-label="Open menu" role="button" tabindex="0">
            <span></span>
          </div>
        </div>
      </div>
      <!-- top bar end -->

      <!-- left bar -->
      <div class="mil-left-panel">
        <div class="mil-page-name mil-upper mil-dark">Loading...</div>

        <ul class="mil-social-icons">
          <li>
            <a
              href="https://wa.me/96170701178?text=Hi%20Yehya%2C%20I%27m%20reaching%20out%20from%20your%20website!"
              target="_blank"
              rel="noopener noreferrer"
              class="social-icon"
              data-no-swup
              aria-label="WhatsApp"
            >
              <i class="fab fa-whatsapp"></i>
            </a>
          </li>
        </ul>
      </div>
      <!-- left bar end -->

      <!-- back to top -->
      <div class="mil-back-to-top">
        <a href="#top" class="mil-link mil-btt-icon">
          <span>Back to top</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
               viewBox="0 0 24 24" fill="none" stroke="currentColor"
               stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="feather feather-arrow-right">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </a>
      </div>
      <!-- back to top end -->
    </div>

    <!-- content -->
    <div class="mil-content">

      <div class="mil-scroll-wrapper transition-fade" id="swupMain">
        <div class="mil-container-fw">

          <!-- banner -->
          <section class="mil-banner-sm mil-center">
            <div class="mil-banner-top mil-up"></div>
            <div class="mil-banner-title">
              <h1 class="mil-h1-sm mil-up mil-mb-60">My Videos</h1>
              <ul class="mil-breadcrumbs mil-up">
                <li><a href="/">Homepage</a></li>
                <li><a href="/videos">Videos</a></li>
              </ul>
            </div>
          </section>
          <!-- banner end -->

          <!-- Videos -->
          <section class="ymv-section">
            <div class="ymv-wrap">

              <div class="ymv-heading mil-up">
                <h2>Featured Videos</h2>
                <p>Clean square gallery — posters load instantly, and the player loads only when you click.</p>
              </div>

              <div class="ymv-grid">

                <article class="ymv-card">
                  <div class="ymv-media"
                       data-vimeo="1146865115"
                       data-poster="img/video-thumbs/numbase.jpg">
                    <div class="ymv-poster"></div>
                    <div class="ymv-overlay"></div>
                    <div class="ymv-badge">Featured</div>
                    <button class="ymv-play" type="button" aria-label="Play Numbase website">
                      <i class="fas fa-play"></i>
                    </button>
                    <div class="ymv-embed" aria-hidden="true"></div>
                  </div>
                  <div class="ymv-meta">
                    <h3 class="ymv-title">Numbase website</h3>
                    <div class="ymv-cat"><span class="ymv-dot"></span> Website presentation</div>
                  </div>
                </article>

                <article class="ymv-card">
                  <div class="ymv-media"
                       data-vimeo="1146865077"
                       data-poster="img/video-thumbs/nike.jpg">
                    <div class="ymv-poster"></div>
                    <div class="ymv-overlay"></div>
                    <div class="ymv-badge">Vimeo</div>
                    <button class="ymv-play" type="button" aria-label="Play Nike ad">
                      <i class="fas fa-play"></i>
                    </button>
                    <div class="ymv-embed" aria-hidden="true"></div>
                  </div>
                  <div class="ymv-meta">
                    <h3 class="ymv-title">Nike ad</h3>
                    <div class="ymv-cat"><span class="ymv-dot"></span> Ad concept</div>
                  </div>
                </article>

                <article class="ymv-card">
                  <div class="ymv-media"
                       data-vimeo="1146865055"
                       data-poster="img/video-thumbs/ym-logo.jpg">
                    <div class="ymv-poster"></div>
                    <div class="ymv-overlay"></div>
                    <div class="ymv-badge">Vimeo</div>
                    <button class="ymv-play" type="button" aria-label="Play Y+M Logo reveal">
                      <i class="fas fa-play"></i>
                    </button>
                    <div class="ymv-embed" aria-hidden="true"></div>
                  </div>
                  <div class="ymv-meta">
                    <h3 class="ymv-title">Y+M Logo reveal</h3>
                    <div class="ymv-cat"><span class="ymv-dot"></span> Brand animation</div>
                  </div>
                </article>

                <article class="ymv-card">
                  <div class="ymv-media"
                       data-vimeo="1146865038"
                       data-poster="img/video-thumbs/kbilarabi.jpg">
                    <div class="ymv-poster"></div>
                    <div class="ymv-overlay"></div>
                    <div class="ymv-badge">Vimeo</div>
                    <button class="ymv-play" type="button" aria-label="Play KBILARABI reveal">
                      <i class="fas fa-play"></i>
                    </button>
                    <div class="ymv-embed" aria-hidden="true"></div>
                  </div>
                  <div class="ymv-meta">
                    <h3 class="ymv-title">KBILARABI reveal</h3>
                    <div class="ymv-cat"><span class="ymv-dot"></span> Teaser / reveal</div>
                  </div>
                </article>

                <article class="ymv-card">
                  <div class="ymv-media"
                       data-vimeo="1151531651"
                       data-poster="img/video-thumbs/hydrosnap.jpg">
                    <div class="ymv-poster"></div>
                    <div class="ymv-overlay"></div>
                    <div class="ymv-badge">Vimeo</div>
                    <button class="ymv-play" type="button" aria-label="Play Hydrosnap">
                      <i class="fas fa-play"></i>
                    </button>
                    <div class="ymv-embed" aria-hidden="true"></div>
                  </div>
                  <div class="ymv-meta">
                    <h3 class="ymv-title">Hydrosnap</h3>
                    <div class="ymv-cat"><span class="ymv-dot"></span> Product teaser</div>
                  </div>
                </article>

              </div>
            </div>
          </section>
          <!-- Videos end -->

          <!-- call to action -->
          <section id="about" class="mil-p-90-90">
            <div class="row justify-content-center">
              <div class="col-lg-8">
                <div class="mil-center">
                  <h2 class="mil-up mil-mb-30">Ready to bring your ideas to life? I'm here to help</h2>
                  <div class="mil-up">
                    <a href="/contact" class="mil-btn mil-sm-btn">Contact me</a>
                  </div>
                </div>
              </div>
            </div>
          </section>
          <!-- call to action end -->

          <!-- footer -->
          <footer class="mil-fw">
            <p class="mil-light-soft">© 2026. Yehya Moustafa. All rights reserved.</p>
            <p class="mil-light-soft">Author: &nbsp;<a href="/" target="_blank">Yehya Moustafa</a></p>
          </footer>
          <!-- footer end -->

        </div>
      </div>

      <!-- Keep right banner markup (hidden by CSS) so your theme/scripts stay stable -->
      <div class="mil-right-banner" id="scene">
        <div class="mil-progress-track">
          <div class="mil-progress"></div>
        </div>
        <div class="mil-banner-wrapper" data-depth="1">
          <div id="swupBg" class="mil-banner-frame">
            <img src="img/person/bg-4.jpg" alt="background" class="mil-banner-bg mil-blur">
          </div>
        </div>
        <div class="mil-banner-wrapper" data-depth="0.2">
          <div id="swupPerson" class="mil-banner-frame">
            <img src="img/person/5.png" alt="person" class="mil-banner-person">
          </div>
        </div>
        <div class="mil-flying-skills" data-depth="0.1">
          <div id="swupSkills" class="mil-skills-frame">
            <div class="mil-item" style="top: 30%; left: 10%">
              <img src="img/logos/1.jpg" alt="logo">
            </div>
            <div class="mil-item" style="bottom: 15%; left: 20%">
              <img src="img/logos/2.jpg" alt="logo">
            </div>
            <div class="mil-item" style="bottom: 45%; right: 15%">
              <img src="img/logos/3.jpg" alt="logo">
            </div>
            <div class="mil-el mil-addition-el-1">+</div>
            <div class="mil-el mil-addition-el-2">+</div>
            <div class="mil-el mil-addition-el-3"></div>
            <div class="mil-el mil-addition-el-4"></div>
          </div>
        </div>
      </div>

    </div>
    <!-- content end -->
  </div>
  <!-- wrapper end -->

  <!-- scripts -->
  <script src="js/plugins/jquery.min.js"></script>
  <script src="js/plugins/swup.min.js"></script>
  <script src="js/plugins/SwupBodyClassPlugin.min.js"></script>
  <script src="js/plugins/swiper.min.js"></script>
  <script src="js/plugins/gsap.min.js"></script>
  <script src="js/plugins/smooth-scroll.js"></script>
  <script src="js/plugins/ScrollTrigger.min.js"></script>
  <script src="js/plugins/parallax.js"></script>
  <script src="js/main.js"></script>
  <script src="js/left.js"></script>

  <!-- success popup -->
  <div id="successPopup" class="popup-overlay">
    <div class="popup-box">
      <h2>Thank you!</h2>
      <p>We’ve received your message and will get back to you as soon as possible.</p>
      <button id="closePopup" class="popup-btn">Close</button>
    </div>
  </div>

  <!-- ==========================================================
       FIX #1: Swup-friendly init (posters appear instantly)
       - init now
       - init after Swup replaces content
       - init again on next frame (timing fix)
       - event delegation for play click (no double-binding)
     ========================================================== -->
  <script>
    (function(){
      function applyPosters(scope){
        const root = scope || document;
        root.querySelectorAll(".ymv-media").forEach((media) => {
          const posterUrl = media.getAttribute("data-poster");
          const posterEl = media.querySelector(".ymv-poster");
          if(posterEl && posterUrl){
            posterEl.style.backgroundImage = "url('" + posterUrl + "')";
          }
        });
      }

      function injectVimeo(media){
        const card = media.closest(".ymv-card");
        const embed = media.querySelector(".ymv-embed");
        const vimeoId = media.getAttribute("data-vimeo");
        if(!embed || !vimeoId) return;

        if(card && card.classList.contains("is-playing")) return;

        embed.innerHTML = `
          <iframe
            src="https://player.vimeo.com/video/${vimeoId}?autoplay=1&title=0&byline=0&portrait=0&playsinline=1&dnt=1"
            allow="autoplay; fullscreen; picture-in-picture"
            allowfullscreen
            title="Vimeo video ${vimeoId}">
          </iframe>
        `;

        if(card) card.classList.add("is-playing");
      }

      function initVideos(){
        applyPosters(document);

        // Timing fix: run again on next frame (Swup/GSAP can swap late)
        requestAnimationFrame(() => applyPosters(document));
        setTimeout(() => applyPosters(document), 50);
      }

      // Event delegation (works after Swup swaps content)
      document.addEventListener("click", function(e){
        const btn = e.target.closest(".ymv-play");
        const media = e.target.closest(".ymv-media");

        // Clicking the media area itself also plays (like template)
        const mediaClick = !btn && media && e.target.closest(".ymv-media");

        if(btn){
          const m = btn.closest(".ymv-media");
          if(m) injectVimeo(m);
        } else if(mediaClick){
          // Only if you clicked inside media but not on meta
          injectVimeo(media);
        }
      });

      document.addEventListener("DOMContentLoaded", initVideos);

      // Swup hooks: your theme uses Swup, so we re-init here too
      document.addEventListener("swup:contentReplaced", initVideos);
      document.addEventListener("swup:pageView", initVideos);
    })();
  </script>
</body>
</html>
